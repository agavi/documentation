<?xml version="1.0" encoding="UTF-8"?>
<configurations xmlns="http://agavi.org/agavi/1.0/config">

  <configuration>
    
    <output_types default="html">
      <!-- The HTML output type -->
      <output_type name="html">
	
	<!-- Since we don't have any special templating mechanism yet (e.g. Smarty), 
	we're just using a plain PHP renderer -->
	<renderers default="php">
	  <renderer name="php" class="AgaviPhpRenderer">

	    <!-- The "assigns" are variables that are exported into
	         the template by the renderer. If you don't like the
	         default convention, change it here -->

	    <parameter name="assigns">
	      <parameter name="routing">ro</parameter>
	      <parameter name="request">rq</parameter>
	      <parameter name="controller">ct</parameter>
	      <parameter name="user">us</parameter>
	      <parameter name="translation_manager">tm</parameter>
	      <parameter name="request_data">rd</parameter>
	    </parameter>
	  </renderer>
	</renderers>
	
	<layouts default="default">

	  <!-- The default layout for HTML includes two layers: the
	       "content" layer is used by the View to render its
	       output, and the "decorator" layer is preconfigured with
	       the decorator template of the Public module -->

	  <layout name="default">

	    <!-- This is the topmost layer. Views would render their output here, using a default
	    template name that matches the name of the View. -->
	    <layer name="content" />

	    <!-- The output of the above layer will fall through into this fixed layer, which is preconfigured
	    to render the decorator template. The content of the previous layer becomes available to us here
	    through $inner (see app/modules/Public/templates/decorator.php) -->
	    <layer name="decorator">
	      <parameter name="template">decorator</parameter>
	      <parameter name="directory">%core.module_dir%/Public/templates</parameter>
	      <slot name="navigation" module="Public" action="ShowNavigation"/>
	    </layer>
	  </layout>

	  <!-- This is a slot layout. It doesn't have a decorator
	       layer. Slotted Views use this layout to output their content -->

	  <layout name="slot">
	    <layer name="content"/>
	  </layout>
	    
	</layouts>
	
	<!-- Agavi can attach HTTP headers automatically when a given output type is activated -->
	<parameter name="http_headers">
	  <parameter name="Content-Type">text/html; charset=UTF-8</parameter>
	</parameter>
	
      </output_type>

    </output_types>
    
  </configuration>

</configurations>